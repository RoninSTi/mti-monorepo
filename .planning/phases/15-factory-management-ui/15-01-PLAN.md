---
phase: 15-factory-management-ui
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - frontend/src/components/ui/sonner.tsx
  - frontend/src/components/ui/alert-dialog.tsx
  - frontend/src/main.tsx
autonomous: true

must_haves:
  truths:
    - "Sonner Toaster renders in the app and toast() calls display notifications"
    - "AlertDialog component is available for import from @/components/ui/alert-dialog"
  artifacts:
    - path: "frontend/src/components/ui/sonner.tsx"
      provides: "Sonner toast integration with shadcn theming"
    - path: "frontend/src/components/ui/alert-dialog.tsx"
      provides: "Accessible confirmation dialog for destructive actions"
    - path: "frontend/src/main.tsx"
      provides: "App root with Toaster component rendered"
  key_links:
    - from: "frontend/src/main.tsx"
      to: "frontend/src/components/ui/sonner.tsx"
      via: "import { Toaster } and render below RouterProvider"
      pattern: "<Toaster"
---

<objective>
Install Sonner toast and AlertDialog shadcn/ui components, then wire the Toaster into the app root.

Purpose: Phase 15 requires toast notifications (FACTORY-UI-05) and delete confirmation dialogs (FACTORY-UI-04). These two shadcn/ui components must be installed before the FactoriesPage can use them.

Output: Two new shadcn/ui components (sonner.tsx, alert-dialog.tsx) and an updated main.tsx with `<Toaster />` rendered at the app root.
</objective>

<execution_context>
@/Users/craigcronin/.claude/get-shit-done/workflows/execute-plan.md
@/Users/craigcronin/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@frontend/src/main.tsx
@frontend/src/components/ui/button.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Install Sonner and AlertDialog shadcn/ui components</name>
  <files>
    frontend/src/components/ui/sonner.tsx
    frontend/src/components/ui/alert-dialog.tsx
  </files>
  <action>
    Run the following commands from the `frontend/` directory:

    ```bash
    cd frontend
    npx shadcn@latest add sonner --yes
    npx shadcn@latest add alert-dialog --yes
    ```

    The `--yes` flag bypasses prompts (established pattern from Phase 13-01). This installs the `sonner` npm package as a dependency and generates two component files in `src/components/ui/`.

    Verify both files exist after installation:
    - `frontend/src/components/ui/sonner.tsx` (Sonner Toaster wrapper with shadcn theming)
    - `frontend/src/components/ui/alert-dialog.tsx` (AlertDialog with all sub-components)
  </action>
  <verify>
    ```bash
    ls frontend/src/components/ui/sonner.tsx frontend/src/components/ui/alert-dialog.tsx
    cat frontend/package.json | grep sonner
    ```
    Both files exist and `sonner` appears in package.json dependencies.
  </verify>
  <done>sonner.tsx and alert-dialog.tsx exist in components/ui/, sonner package installed in node_modules</done>
</task>

<task type="auto">
  <name>Task 2: Add Toaster component to app root</name>
  <files>frontend/src/main.tsx</files>
  <action>
    Edit `frontend/src/main.tsx` to add the Sonner `<Toaster />` component:

    1. Add import at top: `import { Toaster } from '@/components/ui/sonner'`
    2. Add `<Toaster />` inside the `<QueryClientProvider>`, after `<RouterProvider router={router} />` and before `<ReactQueryDevtools>`.

    The final render tree should be:
    ```tsx
    <StrictMode>
      <QueryClientProvider client={queryClient}>
        <RouterProvider router={router} />
        <Toaster />
        <ReactQueryDevtools initialIsOpen={false} />
      </QueryClientProvider>
    </StrictMode>
    ```

    Do NOT change any other part of main.tsx (router config, imports, etc.).
  </action>
  <verify>
    ```bash
    cd frontend && npx tsc --noEmit
    grep -n "Toaster" frontend/src/main.tsx
    ```
    TypeScript compiles with zero errors. Toaster import and JSX element appear in main.tsx.
  </verify>
  <done>main.tsx imports Toaster from sonner and renders it in the app root, TypeScript compiles cleanly</done>
</task>

</tasks>

<verification>
1. `ls frontend/src/components/ui/sonner.tsx frontend/src/components/ui/alert-dialog.tsx` - both files exist
2. `grep "sonner" frontend/package.json` - sonner is a dependency
3. `grep "Toaster" frontend/src/main.tsx` - Toaster is imported and rendered
4. `cd frontend && npx tsc --noEmit` - zero TypeScript errors
5. `cd frontend && npm run build` - production build succeeds
</verification>

<success_criteria>
- Sonner and AlertDialog shadcn/ui components installed and available for import
- Toaster renders in the app root (toast notifications will display from any component)
- Zero TypeScript errors, production build succeeds
- No changes to existing functionality (routing, query client, devtools)
</success_criteria>

<output>
After completion, create `.planning/phases/15-factory-management-ui/15-01-SUMMARY.md`
</output>
